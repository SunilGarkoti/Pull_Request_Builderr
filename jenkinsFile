
pipeline { 
    agent any 
    
    stages {
        stage('Build') { 
            steps { 
                echo "Build is running" 
            }
        }
        stage('Test'){
          
          steps {
                echo "Test is running"       
                build 'Maven_Project'
                
                 script {
                    if (currentBuild.previousBuild.result == false) {
                        echo 'failed'
                    } else {
                        echo 'I execute elsewhere'
                    }
                }
                
            }
              
        }
        stage('Deploy') {
            steps {
                echo "Deployement is on processs"
                 sh "/Users/sunilgarkoti/pipeline/make.sh"
            }
        }
    }
}
