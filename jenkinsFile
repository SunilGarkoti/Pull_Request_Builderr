
pipeline { 
    agent any 
    
    stages {
        stage('Build') { 
            steps { 
                echo "Build is running" 
            }
        }
       
       
       try{
       stage('Test'){
          
          steps {
                echo "Test is running"       
               
               build 'Maven_Project'
               }catch(e){
               build_ok = false
               echo e.toString()  
               }
                
                script {
                    if (build_ok) {
                        echo 'failed'
                    } else {
                        echo 'I execute elsewhere'
                    }
                }

                
                
                
                
                
            }
              
        }
        stage('Deploy') {
            steps {
                echo "Deployement is on processs"
                 sh "/Users/sunilgarkoti/pipeline/make.sh"
            }
        }
    }
}
